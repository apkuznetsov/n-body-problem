# Гравитационная задача N тел

Изучение различных парадигм параллельного программирования и моделей взаимодействия параллельных процессов.

С использованием одной из моделей взаимодействия параллельных процессов разработать параллельную программу моделирования гравитационного взаимодействия N тел.

Программа должна визуально изображать изменение взаимного положения тел в течение некоторого интервала времени (нескольких дискретных шагов времени) под действием гравитационных сил. 
Размерами тел можно пренебречь, представив их точками.

Каждое тело имеет массу, начальное положение и скорость. 
Гравитация вызывает перемещение и ускорение тел. 
Движение системы N тел имитируется пошагово с помощью дискретных отрезков времени. 
На каждом временнóм шаге вычисляются силы, действующие на каждое тело, и обновляются скорости и положения тел.

Имитация гравитационного взаимодействия имеет следующую структуру:
```
// инициализировать тела
for ( t = t_start; t < t_finish; t = t + dt ) {
// вычислить силы
// переместить тела
}
```
Значение dt является временным шагом.

Величина силы гравитации между двумя телами i и j вычисляется по формуле:
```
F = G*mi*mj/r^2 (1)
```
где mi и mj – массы тел, а r – расстояние между ними. 
Гравитация является чрезвычайно слабым взаимодействием, поэтому значение гравитационной постоянной G очень мало: 6.67e-11.

Предположим, что все тела расположены на одной плоскости, т.е. задача является двумерной. 

В этом случае силы, ускорения, скорости и положения тел являются двумерными векторами, то есть их значения задаются парами чисел, каждое из которых определяет проекцию вектора на соответствующую координатную ось. 
Например, ускорение тела i ai=[aix, aiy].

Направление силы, действующей на тело i со стороны тела j, задается единичным вектором, направленным от тела i в сторону тела j, а силы воздействия тела i на тело j – противоположным вектором. 
Величины сил, действующих между любыми двумя телами, равны, а направления противоположны. 
После вычисления модуля силы по формуле (1) необходимо вычислить величину проекций вектора силы на координатные оси, исходя из направления действия силы. 
Вычисленные значения будут компонентами вектора силы F=[Fx, Fy].

Общая сила, действующая на тело, равна векторной сумме сил воздействия со стороны всех остальных тел.
Гравитационные силы, действующие на тело, вызывают его ускорение и перемещение. 
Ускорение тела i равно отношению общей силы F, действующей на тело, к массе тела: 
```
a = F/mi
```

Если за малый интервал времени dt ускорение ai тела i остается практически постоянным, то изменение скорости приблизительно равно:
```
dvi = ai*dt
```

Изменение положения тела есть интеграл его скорости и ускорения на интервале времени dt, который приблизительно равен:
```
dpi = vi*dt + (ai/2)*(dt)^2 = (vi + dvi/2)*dt
```
Эта формула устроена по так называемой скачкообразной (leapfrog) схеме, в которой одна половина изменения в положении тела обусловлена предыдущей скоростью, а другая – новой.

При использовании приведенных выше формул следует различать векторные и скалярные величины. Компоненты соответствующих векторов следует вычислять отдельно или использовать операции над векторами.